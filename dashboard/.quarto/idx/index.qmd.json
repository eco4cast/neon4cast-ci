{"title":"Forecasting Challenge","markdown":{"yaml":{"title":"Forecasting Challenge"},"headingText":"Why a forecasting challenge?","containsRefs":false,"markdown":"\n\nWelcome to the NEON Forecasting Challenge, hosted by the Ecologial Forecasting Initiative Research Coordination Network\n\nWe invite you to submit forecasts!\n\n\nWe are using forecasts to compare the predictability of different ecosystem variables, in different ecosystem conditions to identify the fundamental predictability of freshwater ecosystems.\n\n<br />\n<br />\n```{r setup, include=FALSE, echo=FALSE, message=FALSE, warning=FALSE}\nknitr::opts_chunk$set(echo=FALSE, message=FALSE, warning=FALSE)\nlibrary(dplyr)\nlibrary(arrow)\nlibrary(bslib)\nlibrary(bsicons)\nlibrary(leaflet)\nlibrary(tidyverse)\nconfig <- yaml::read_yaml(\"../challenge_configuration.yaml\")\nsites <- suppressMessages(sf::st_read(\"sites.json\"))\ns3_inventory <- arrow::s3_bucket(paste0(config$inventory_bucket, \"/catalog\"), endpoint_override = config$endpoint, anonymous = TRUE)\nn_forecasts <- arrow::open_dataset(s3_inventory) |> distinct(model_id, reference_date) |> collect() |> nrow()\nn_models <- arrow::open_dataset(s3_inventory) |> distinct(model_id) |> collect() |> nrow()\n\ns3_targets <- arrow::s3_bucket(config$targets_bucket, endpoint_override = config$endpoint, anonymous = TRUE)\n\nmost_recent_targets <- arrow::open_csv_dataset(s3_targets,\n                                    schema = arrow::schema(\n                                      project_id = arrow::string(),\n                                      site_id = arrow::string(),\n                                      datetime = arrow::timestamp(unit = \"ns\", timezone = \"UTC\"),\n                                      duration = arrow::string(),\n                                      #depth_m = arrow::float(),\n                                      variable = arrow::string(),\n                                      observation = arrow::float()),\n                                    skip = 1) |>\n  filter(project_id == config$project_id) |> \n    summarize(max = max(datetime),\n              min = min(datetime)) |> \n    mutate(max = lubridate::as_date(max),\n           min = lubridate::as_date(min)) |> \n    dplyr::collect()\n\n#unique_forecasted_targets <- arrow::open_dataset(\"../cache/duration=P1D\") |> \n#  dplyr::distinct(variable) |> count() |> \n#    dplyr::collect() |> \n#    pull(n)\n\nlast_updated <- Sys.Date()\n```\n\n```{r eval = FALSE}\n\nlayout_column_wrap(\n  width = \"250px\",\n  value_box(\n    title = \"Total forecasts submitted to the VERA Challenge\", \n    value = n_forecasts,\n    showcase = bs_icon(\"graph-up\"),\n    theme_color = \"success\" \n  ),\n  value_box(\n    title = \"Most recent data for model training\", \n    value = most_recent_targets$max,\n    showcase = bs_icon(\"bullseye\")\n  ),\n    value_box(\n    title = \"Number of years of data for model training\", \n    value = round(as.numeric(most_recent_targets$max - most_recent_targets$min) /365, 2),\n    showcase = bs_icon(\"bullseye\")\n  ),\n    value_box(\n    title = \"Number of variables being forecasted\", \n    value = unique_forecasted_targets,\n    showcase = bs_icon(\"clipboard-data\"),\n    theme_color = \"success\" \n  )\n)\n\n```\n<br />\n<br />\n\n## What sites are being forecasted?\n\n```{r fig.height=5, fig.width=5, echo=FALSE, include=TRUE, message = FALSE, eval = FALSE}\nleaflet() %>%\n  setView(lat = 37.310922, lng = -79.828854, zoom= 15) %>%\n  addTiles(group=\"OSM\") %>%\n  addProviderTiles(providers$Esri.WorldImagery, group=\"Imagery\") %>%\n  addProviderTiles(providers$Esri.WorldTopoMap, group=\"Topo Map\") %>%\n  addLayersControl(baseGroups=c('Imagery','OSM', 'Topo Map')) |> \n  addMarkers(data  = sites, popup=~as.character(site_id), group = ~as.character(Partner), clusterOptions = markerClusterOptions())\n```\n<br />\n<br />\nThis material is based upon work supported by the National Science Foundation under Grant DEB-1926388. Any opinions, findings, and conclusions or recommendations expressed in this material are those of the author(s) and do not necessarily reflect the views of the National Science Foundation.\n<br />\n<br />\nPage last updated on `r Sys.Date()`\n","srcMarkdownNoYaml":"\n\nWelcome to the NEON Forecasting Challenge, hosted by the Ecologial Forecasting Initiative Research Coordination Network\n\nWe invite you to submit forecasts!\n\n## Why a forecasting challenge? \n\nWe are using forecasts to compare the predictability of different ecosystem variables, in different ecosystem conditions to identify the fundamental predictability of freshwater ecosystems.\n\n<br />\n<br />\n```{r setup, include=FALSE, echo=FALSE, message=FALSE, warning=FALSE}\nknitr::opts_chunk$set(echo=FALSE, message=FALSE, warning=FALSE)\nlibrary(dplyr)\nlibrary(arrow)\nlibrary(bslib)\nlibrary(bsicons)\nlibrary(leaflet)\nlibrary(tidyverse)\nconfig <- yaml::read_yaml(\"../challenge_configuration.yaml\")\nsites <- suppressMessages(sf::st_read(\"sites.json\"))\ns3_inventory <- arrow::s3_bucket(paste0(config$inventory_bucket, \"/catalog\"), endpoint_override = config$endpoint, anonymous = TRUE)\nn_forecasts <- arrow::open_dataset(s3_inventory) |> distinct(model_id, reference_date) |> collect() |> nrow()\nn_models <- arrow::open_dataset(s3_inventory) |> distinct(model_id) |> collect() |> nrow()\n\ns3_targets <- arrow::s3_bucket(config$targets_bucket, endpoint_override = config$endpoint, anonymous = TRUE)\n\nmost_recent_targets <- arrow::open_csv_dataset(s3_targets,\n                                    schema = arrow::schema(\n                                      project_id = arrow::string(),\n                                      site_id = arrow::string(),\n                                      datetime = arrow::timestamp(unit = \"ns\", timezone = \"UTC\"),\n                                      duration = arrow::string(),\n                                      #depth_m = arrow::float(),\n                                      variable = arrow::string(),\n                                      observation = arrow::float()),\n                                    skip = 1) |>\n  filter(project_id == config$project_id) |> \n    summarize(max = max(datetime),\n              min = min(datetime)) |> \n    mutate(max = lubridate::as_date(max),\n           min = lubridate::as_date(min)) |> \n    dplyr::collect()\n\n#unique_forecasted_targets <- arrow::open_dataset(\"../cache/duration=P1D\") |> \n#  dplyr::distinct(variable) |> count() |> \n#    dplyr::collect() |> \n#    pull(n)\n\nlast_updated <- Sys.Date()\n```\n\n```{r eval = FALSE}\n\nlayout_column_wrap(\n  width = \"250px\",\n  value_box(\n    title = \"Total forecasts submitted to the VERA Challenge\", \n    value = n_forecasts,\n    showcase = bs_icon(\"graph-up\"),\n    theme_color = \"success\" \n  ),\n  value_box(\n    title = \"Most recent data for model training\", \n    value = most_recent_targets$max,\n    showcase = bs_icon(\"bullseye\")\n  ),\n    value_box(\n    title = \"Number of years of data for model training\", \n    value = round(as.numeric(most_recent_targets$max - most_recent_targets$min) /365, 2),\n    showcase = bs_icon(\"bullseye\")\n  ),\n    value_box(\n    title = \"Number of variables being forecasted\", \n    value = unique_forecasted_targets,\n    showcase = bs_icon(\"clipboard-data\"),\n    theme_color = \"success\" \n  )\n)\n\n```\n<br />\n<br />\n\n## What sites are being forecasted?\n\n```{r fig.height=5, fig.width=5, echo=FALSE, include=TRUE, message = FALSE, eval = FALSE}\nleaflet() %>%\n  setView(lat = 37.310922, lng = -79.828854, zoom= 15) %>%\n  addTiles(group=\"OSM\") %>%\n  addProviderTiles(providers$Esri.WorldImagery, group=\"Imagery\") %>%\n  addProviderTiles(providers$Esri.WorldTopoMap, group=\"Topo Map\") %>%\n  addLayersControl(baseGroups=c('Imagery','OSM', 'Topo Map')) |> \n  addMarkers(data  = sites, popup=~as.character(site_id), group = ~as.character(Partner), clusterOptions = markerClusterOptions())\n```\n<br />\n<br />\nThis material is based upon work supported by the National Science Foundation under Grant DEB-1926388. Any opinions, findings, and conclusions or recommendations expressed in this material are those of the author(s) and do not necessarily reflect the views of the National Science Foundation.\n<br />\n<br />\nPage last updated on `r Sys.Date()`\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["styles.css"],"toc":true,"output-file":"index.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Archive","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.4.146","editor":"visual","theme":["cerulean","custom.scss"],"title-block-style":"default","title-block-banner":"img/banner.jpg","title-block-banner-color":"white","page-layout":"full","title":"Forecasting Challenge"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}